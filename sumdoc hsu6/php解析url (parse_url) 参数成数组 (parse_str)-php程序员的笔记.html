<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>php解析url (parse_url) 参数成数组 (parse_str)-php程序员的笔记</title><meta name ="keywords" content="php,解析url,parse_url,参数,parse_str"><meta name="description" content="通过php获取了当前url，如果需要提取url中的参数的话该如何操作呢？这个过程其实挺简单，使用php的两个内置函数就可以顺利完成，即parse_url和parse_str函数。下面将对这两个函数做简要说明以及用示例说明如何提取url中的参数。"><meta name="author" content="程序员：余浩苗；电子邮件：yhm.1234@163.com"><link rel="shortcut icon" href="/favicon.ico" ><link href="/style/refinement/css/style.css?v=1" rel="stylesheet" type="text/css" media="screen" /><script language="javascript">var web_url='http://www.phpernote.com/',cookie_domain='.phpernote.com',cookie_expire='1585041810',style_dir='refinement/';</script></head><body><div id="container"><div id="userMenu"></div><div id="wrapper"><div id="header-wrapper"><div id="header"><div id="logo"><h1><a title="php程序员的笔记" href="http://www.phpernote.com/"><img title="php程序员的笔记" id="logoImg" alt="php程序员的笔记" src="/style/refinement/img/logo.gif" /></a></h1></div><div id="menu"><ul><li style="border-left:1px solid #999;"><a class="current_page_item" href="/">网站首页</a><div class="clear"></div></li><li><a class="current_page_item" href="/php/">PHP笔记</a><ul><li style="border-top:0;"><a href="/php-string/">字符串处理</a></li><li><a href="/php-function/">php函数总结</a></li><li><a href="/php-regular-expression/">正则表达式</a></li><li><a href="/php-template-framework/">模板框架使用</a></li><li><a href="/php-template/">我的网站模板笔记</a></li><li><a href="/php-ecshop/">Ecshop二次开发笔记</a></li><li style="border-bottom:1px solid #999;"><a href="/code-download/">php源码下载</a></li></ul><div class="clear"></div></li><li><a href="/database/">数据库教程</a><ul><li style="border-top:0;"><a href="/mysql/">MySQL数据库</a></li><li><a href="/mongodb/">MongoDB</a></li><li><a href="/access/">Access数据库</a></li><li style="border-bottom:1px solid #999;"><a href="/redis/">Redis</a></li></ul><div class="clear"></div></li><li><a href="/javascript/">JavaScript教程</a><ul><li style="border-top:0;"><a href="/jquery/">Jquery基础</a></li><li><a href="/jquery-effects/">Jquery特效</a></li><li><a href="/javascript-function/">JS常用函数</a></li><li><a href="/open-source-plug-in/">开源插件开发</a></li><li style="border-bottom:1px solid #999;"><a href="/google-map/">谷歌地图开发</a></li></ul><div class="clear"></div></li><li><a href="/html/">HTML教程</a><ul><li style="border-top:0;"><a href="/div-css/">DIV+CSS技术篇</a></li><li><a href="/seo/">网站优化笔记</a></li><li style="border-bottom:1px solid #999;"><a href="/html5/">HTML5 技术</a></li></ul><div class="clear"></div></li><li><a href="/operating-system/">操作系统技巧</a><ul><li style="border-top:0;"><a href="/windows-7/">windows 7系统篇</a></li><li><a href="/linux/">Linux操作系统篇</a></li><li style="border-bottom:1px solid #999;"><a href="/server/">服务器</a></li></ul><div class="clear"></div></li></ul><div class="clear"></div></div></div></div><div id="page"><div id="right_sidebar" class="fl" style="background-color:#FFF;"><div id="articleC_box"><div class="article_path"><a href="http://www.phpernote.com/">php程序员的笔记</a> -> <a href="/php/">PHP笔记</a> -> <a href="/php-function/">php函数总结</a> -> php解析url (parse_url) 参数成数组 (parse_str)</div><div id="article_content"><h1 id="ac_title">php解析url (parse_url) 参数成数组 (parse_str)</h1><div id="ac_content" class="1009"><div id="readTips"></div>
<p>通过php获取了当前url，如果需要提取url中的参数的话该如何操作呢？这个过程其实挺简单，使用php的两个内置函数就可以顺利完成，即parse_url和parse_str函数。下面将对这两个函数做简要说明以及用示例说明如何提取url中的参数。</p>
<p><span style="color: #ff0000"><strong>（1）parse_url (PHP 4, PHP 5) — 解析 URL，返回其组成部分，函数原型如下：</strong></span></p>
<p>mixed parse_url ( string $url [, int $component = -1 ] )</p>
<p>本函数解析一个 URL 并返回一个关联数组，包含在 URL 中出现的各种组成部分。</p>
<p>本函数不是用来验证给定 URL 的合法性的，只是将其分解为下面列出的部分。不完整的 URL 也被接受，parse_url() 会尝试尽量正确地将其解析。</p>
<p>参数说明</p>
<p>url 要解析的 URL。无效字符将使用 _ 来替换。</p>
<p>component 指定 PHP_URL_SCHEME、 PHP_URL_HOST、 PHP_URL_PORT、 PHP_URL_USER、 PHP_URL_PASS、 PHP_URL_PATH、 PHP_URL_QUERY 或 PHP_URL_FRAGMENT 的其中一个来获取 URL 中指定的部分的 string。 （除了指定为 PHP_URL_PORT 后，将返回一个 integer 的值）。</p>
<p>返回值</p>
<p>对严重不合格的 URL，parse_url() 可能会返回 FALSE。</p>
<p>如果省略了 component 参数，将返回一个关联数组 array，在目前至少会有一个元素在该数组中。数组中可能的键有以下几种：</p>
<p>scheme - 如 http <br />
host <br />
port <br />
user <br />
pass <br />
path <br />
query - 在问号 ? 之后 <br />
fragment - 在散列符号 # 之后</p>
<p>如果指定了 component 参数， parse_url() 返回一个 string （或在指定为 PHP_URL_PORT 时返回一个 integer）而不是 array。如果 URL 中指定的组成部分不存在，将会返回 NULL。</p>
<p><span style="color: #ff0000"><strong>（2）parse_str - 把查询字符串解析到变量中，函数原型如下：</strong></span></p>
<p>parse_str(string,array)</p>
<p>参数说明<br />
&#160;<br />
string 必需。规定要解析的字符串。</p>
<p>array 可选。规定存储变量的数组名称。该参数指示变量存储到数组中。如果未设置 array 参数，由该函数设置的变量将覆盖已由同名变量。</p>
<p>注释：php.ini 中的 magic_quotes_gpc 设置影响该函数的输出。如果已启用，那么在 parse_str() 解析之前，变量会被 addslashes() 转换。</p>
<p><span style="color: #ff0000"><strong>（3）具体提取url中的参数示例如下：</strong></span></p>
<pre class="brush: php;" title="code">
&lt;?php
$url='http://www.phpernote.com/ad.php?id=325&amp;action=index&amp;page=3';
$urlarr=parse_url($url);
parse_str($urlarr['query'],$parr);
print_r($urlarr);
print_r($parr);</pre>
<p>打印的结果如下：</p>
<p>Array<br />
(<br />
&#160;&#160;&#160; [scheme] =&gt; http<br />
&#160;&#160;&#160; [host] =&gt; www.phpernote.com<br />
&#160;&#160;&#160; [path] =&gt; /ad.php<br />
&#160;&#160;&#160; [query] =&gt; id=325&amp;action=index&amp;page=3<br />
)<br />
Array<br />
(<br />
&#160;&#160;&#160; [id] =&gt; 325<br />
&#160;&#160;&#160; [action] =&gt; index<br />
&#160;&#160;&#160; [page] =&gt; 3<br />
)</p><div id="mblike"><div style="height:30px;margin:20px auto 6px auto;"><h4 style="float:left;margin:0;">您可能感兴趣的文章</h4><div style="float:right;width:550px;height:30px;line-height:30px;"></div><div class="clear"></div></div><ul style="display:inline-block;"><li style="border:0;"><a target="_blank" href="/php-function/1444.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong>获取最近n天组成<strong style="color:#F00;">数组</strong></a></li><li><a target="_blank" href="/php-function/416.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong> C<strong style="color:#F00;"><strong style="color:#F00;">url</strong></strong>批量多线程打开<strong style="color:#F00;">网址</strong>的类</a></li><li><a target="_blank" href="/php-function/1141.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong>简单的socket</a></li><li><a target="_blank" href="/php-function/845.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong>生成短<strong style="color:#F00;">网址</strong>的思路以及实现方法</a></li><li><a target="_blank" href="/php-function/550.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong> date()<strong style="color:#F00;">参数</strong>说明</a></li><li><a target="_blank" href="/php-function/1389.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong>对多维<strong style="color:#F00;">数组</strong>进行array_values</a></li><li><a target="_blank" href="/php-function/289.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong>递归函数中使用return需注意</a></li><li><a target="_blank" href="/php-string/351.html" class="pt"><strong style="color:#F00;"><strong style="color:#F00;"><strong style="color:#F00;">PHP</strong></strong></strong>合并<strong style="color:#F00;">数组</strong>+与array_merge的区别</a></li></ul></div></div><div id="fsn"><div>转载请注明出处：<a class="pt" target="_blank" href="http://www.phpernote.com/">php程序员的笔记</a></div><div>本文永久地址：<a title="php解析url (parse_url) 参数成数组 (parse_str)" href="http://www.phpernote.com/php-function/1009.html">http://www.phpernote.com/php-function/1009.html</a></div><div id="articleNote"><span class="add_time">最后修改时间：2014年05月06日 21时58分15秒&nbsp;&nbsp;&nbsp;&nbsp;</span>文章来源：-わ千与千寻</div></div><div id="ad_156"></div><div class="clear"></div><div id="nextArticle"><div id="LA">上一篇：<a class="pt" href="/javascript-function/1008.html">js颜色选择器jscolor</a></div><div id="NA">下一篇：<a class="pt" href="/php-function/1010.html">php汉字验证码</a></div></div><div class="clear"></div><!--jiaThis--></div></div><div id="otherArticle"><div id="relatedArticle"><div class="h2">热门文章</div><ul><li style="border:0;"><a href="/php-function/322.html" class="pt">php获取客户端真实ip地址的三种方法</a></li><li><a href="/php-function/663.html" class="pt">php模拟发送get请求</a></li><li><a href="/php-function/1019.html" class="pt">php获取本周和上周的开始日期和结束日期</a></li><li><a href="/php-function/336.html" class="pt">php获取远程图片并下载保存到本地</a></li><li><a href="/php-function/727.html" class="pt">PHP获取当前时间、时间戳方法大总结</a></li><li><a href="/php-function/637.html" class="pt">php如何删除数组的第一个元素和最后一个元素</a></li></ul></div><div id="randomArticle"><div class="h2">随机文章</div><ul><li style="border:0;"><a href="/php-function/1504.html" class="pt">PHP获取以字母递增为键值的数组</a></li><li><a href="/php-function/1501.html" class="pt">MySQL批量更新数据(封装为php方法)</a></li><li><a href="/php-function/1507.html" class="pt">redis 实例化以及ping 的操作</a></li><li><a href="/php-function/1499.html" class="pt">PHP 浅谈 == 和=== 中，数字和字符串比较的问题</a></li><li><a href="/php-function/1500.html" class="pt">php 获取代码执行时间和消耗的内存</a></li><li><a href="/php-function/1511.html" class="pt">php自动给内容里面的a超级链接加上nofollow标签</a></li></ul></div><div class="clear"></div></div></div><div id="left_sidebar" class="fr"><ul><li id="searchForm"><!--searchForm--></li><li id="hotArticle"><div class="h2"><span>周热门文章</span></div><ul><li style="border:0;"><a href="/php-function/241.html" class="pt">php判断变量类型常用方法</a></li><li><a href="/php-function/594.html" class="pt">php在数组中查找某个值是否存在（in_array(),array_search(),array_key_exists()）</a></li><li><a href="/php-function/710.html" class="pt">php提示Maximum execution time of 30 seconds exceeded...错误的解决办法</a></li><li><a href="/php-function/905.html" class="pt">php判断函数，类，类方法是否存在</a></li><li><a href="/php-function/1009.html" class="pt">php解析url (parse_url) 参数成数组 (parse_str)</a></li><li><a href="/php-function/1052.html" class="pt">PHP去除数组中的空值元素（array_filter）</a></li><li><a href="/php-function/1064.html" class="pt">PHP中exit()与die()的区别</a></li><li><a href="/php-function/1101.html" class="pt">php判断文件或目录(文件夹)是否存在</a></li><li><a href="/php-function/1102.html" class="pt">PHP向文件写入或追加数据</a></li><li><a href="/php-function/1393.html" class="pt">php二维数组按某个字段排序</a></li></ul></li></ul></div>
<div class="clear"></div><!--友情链接开始--><div style="height:30px;"></div><!--友情链接结束--></div><!-- end #page --></div><div id="footer"><p><span>All rights reserved. Design by -わ千与千寻.</span><span><a target="_blank" rel="nofollow" href="/web_tools/private/link.php?url=http://www.miitbeian.gov.cn/">京ICP备16025782号-1</a></span><span id="web_map"><a rel="nofollow" href="/webmap.html">网站地图</a></span><span><a rel="nofollow" href="/seo/344.html" target="_blank">友情连接</a></span><span id="makeWeb"><a rel="nofollow" href="/news/294.html" target="_blank">私人建站</a></span><span id="submitArticle"><a rel="nofollow" href="/news/475.html" target="_blank">招募投稿</a></span><span><a rel="nofollow" href="/news/770.html">广告服务</a></span><span><a href="/web_tools/" target="_blank">互联网工具大全</a></span><span id="online"></span></p></div><div id="msg_win"><div class="icos"><a id="msg_min" title="最小化" href="javascript:void(0);">-</a><a id="msg_close" title="关闭" href="javascript:void(0);">×</a></div><div id="msg_title">聊天列表</div><div id="msg_content"><ul></ul></div></div><script type="text/javascript" src="/style/refinement/js/jquery.js?v=2.1"></script><script type="text/javascript" src="/style/refinement/echos.php?r=h2ebdnlr&c=&acid=1009&uaid=1009&code=zVTx0X5ORX&time="></script><!--语法高亮插件--><script language="javascript" src="/web_editor/syntaxhighlighter/scripts/SyntaxHighlightingJs.php"></script><link type="text/css" rel="stylesheet" href="/web_editor/syntaxhighlighter/styles/SyntaxHighlightingCss.php" /><script type="text/javascript">SyntaxHighlighter.config.clipboardSwf=web_url+'web_editor/syntaxhighlighter/scripts/clipboard.swf';SyntaxHighlighter.config.strings={viewSource:'查看代码',copyToClipboard:'复制代码',print:'打印',copyToClipboardConfirmation:'代码复制成功',noBrush:'不能找到刷子: ',brushNotHtmlScript:'刷子没有配置html-script选项'};SyntaxHighlighter.all();</script><!--语法高亮插件--></body></html>