

HIBERNATE是实现ORM的工具

1.加入JAR包

hibernate3.jar
hibernate-core.jar
hibernate-annotations.jar
hibernate-commons-annotations.jar

以上是核心包,根据提示加入一些支持类库


2.建立测试代码


		tableBo bo=new tableBo();
		bo.setName("test name");
		xxDao dao=new xxDao();
		dao.insert(bo);
		System.out.println("ok");




3.  tableBo 类


package mypkg;

public class tableBo {
	public int id;

	public java.lang.String name;

	public int getId() {
		return id;
	}

	public void setId(int id) {
		this.id = id;
	}

	public java.lang.String getName() {
		return name;
	}

	public void setName(java.lang.String name) {
		this.name = name;
	}

}


4.  xxDao  类


package mypkg;

import org.hibernate.Session;
import org.hibernate.Transaction;
import org.hibernate.cfg.Configuration;

public class xxDao {

	public void outest() {
		System.out.println("  test ok");
	}

	public void insert(Object o) {

		Session session = new Configuration().configure("/hibernate.cfg.xml")
				.buildSessionFactory().openSession();

		Transaction t = session.beginTransaction();
		session.save(o);
		t.commit();
		
		

	}
}


5./src/hibernate.cfg.xml   配置文件


<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE hibernate-configuration PUBLIC
          "-//Hibernate/Hibernate Configuration DTD 3.0//EN"
          "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd">

<!-- Generated by MyEclipse Hibernate Tools.                   -->
<hibernate-configuration>

<session-factory>
	<property name="connection.username">rootx</property>
	<property name="connection.url">
		jdbc:sqlite:c:\\test.db
	</property>
	<property name="dialect">
		org.hibernate.dialect.MySQLDialect
	</property>
	<property name="myeclipse.connection.profile">mysql</property>
	<property name="connection.password">123456</property>
	<property name="connection.driver_class">
		org.sqlite.JDBC
	</property>
	<property name="show_sql">true</property>
	<mapping resource="mypkg/Department.hbm.xml" />
 

</session-factory>

</hibernate-configuration>



6./src/mypkg/Department.hbm.xml    ,ORM映射文件



<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
	Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
	<class name="mypkg.tableBo" table="table2"
		 lazy="true">
		<id name="id" type="integer">
			<column name="id" />
			<generator class="increment" />
		</id>
		<property name="name" type="string">
			<column name="name" length="254" />
		</property>
		 
	</class>
</hibernate-mapping>



7.更新,删除API
session.update()
		session.delete()



8.查询API


